[gd_scene load_steps=15 format=3 uid="uid://cmfgmujxylyrf"]

[ext_resource type="Script" uid="uid://dp77ko2pow3ds" path="res://Scripts/forest_scene.gd" id="1_4ao68"]
[ext_resource type="Texture2D" uid="uid://cwni227jipkwi" path="res://Assets/Paintings/forest.jpg" id="1_ofikg"]
[ext_resource type="Shader" uid="uid://btda5jio8w3us" path="res://Scenes/burn.gdshader" id="2_vknuq"]
[ext_resource type="FontFile" uid="uid://bouxhocvmd8ui" path="res://Assets/Menu/Text/leapfont-bold.ttf" id="4_amq7h"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_amq7h"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_7c07h"]
noise = SubResource("FastNoiseLite_amq7h")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lak1s"]
shader = ExtResource("2_vknuq")
shader_parameter/progress = -1.0
shader_parameter/noiseForce = 0.2
shader_parameter/noiseTexture = SubResource("NoiseTexture2D_7c07h")
shader_parameter/burnColor = Color(0.9953961, 0.61033356, 0, 1)
shader_parameter/borderWidth = 0.01
shader_parameter/direction = 90.0

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_vknuq"]
particle_flag_disable_z = true
emission_shape_scale = Vector3(10, 1, 1)
emission_shape = 3
emission_box_extents = Vector3(28, 1, 1)
direction = Vector3(0, -1, 0)
spread = 28.448
initial_velocity_min = 101.45
initial_velocity_max = 202.9
gravity = Vector3(0, 98, 0)
scale_min = 0.0
scale_max = 5.0
scale_over_velocity_max = 79.369995
color = Color(0.9675376, 0.5109736, 0.067489885, 1)

[sub_resource type="Animation" id="Animation_4ao68"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("TextureRect:size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(2645, 1693)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("TextureRect:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-680, -966)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("TextureRect:material:shader_parameter/progress")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [-1.0]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("TextureRect/GPUParticles2D:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(648, 6)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("ColorRect2:color")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 1)]
}

[sub_resource type="Animation" id="Animation_e7tvg"]
resource_name = "burn_animation"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("TextureRect:material:shader_parameter/progress")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [-1.0, 1.2]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("TextureRect/GPUParticles2D:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.04, 0.96),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(635, 717), Vector2(648, 6)]
}

[sub_resource type="Animation" id="Animation_vknuq"]
resource_name = "fade_from_black"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ColorRect2:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.46666667),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 1), Color(0, 0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_amq7h"]
resource_name = "fade_to_black"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ColorRect2:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 1)]
}

[sub_resource type="Animation" id="Animation_ofikg"]
resource_name = "pan_and_zoom"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("TextureRect:size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(2645, 1693), Vector2(1270.074, 723)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("TextureRect:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-680, -966), Vector2(4, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_vknuq"]
_data = {
&"RESET": SubResource("Animation_4ao68"),
&"burn_animation": SubResource("Animation_e7tvg"),
&"fade_from_black": SubResource("Animation_vknuq"),
&"fade_to_black": SubResource("Animation_amq7h"),
&"pan_and_zoom": SubResource("Animation_ofikg")
}

[node name="Forest_scene" type="Control"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("1_4ao68")

[node name="TextureRect" type="TextureRect" parent="."]
material = SubResource("ShaderMaterial_lak1s")
layout_mode = 0
offset_left = -680.0
offset_top = -966.0
offset_right = 1965.0
offset_bottom = 727.0
texture = ExtResource("1_ofikg")
expand_mode = 3
stretch_mode = 5

[node name="GPUParticles2D" type="GPUParticles2D" parent="TextureRect"]
position = Vector2(648, 6)
process_material = SubResource("ParticleProcessMaterial_vknuq")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_vknuq")
}
speed_scale = 0.21

[node name="ColorRect" type="ColorRect" parent="."]
z_index = -9
layout_mode = 0
offset_right = 1329.0
offset_bottom = 790.0
color = Color(0, 0, 0, 1)

[node name="ColorRect2" type="ColorRect" parent="."]
z_index = 1
layout_mode = 0
offset_right = 1347.0
offset_bottom = 803.0
color = Color(0, 0, 0, 1)

[node name="RichTextLabel" type="RichTextLabel" parent="."]
layout_mode = 0
offset_left = 433.0
offset_top = 664.0
offset_right = 1044.0
offset_bottom = 1085.0
theme_override_fonts/normal_font = ExtResource("4_amq7h")
theme_override_font_sizes/normal_font_size = 25
bbcode_enabled = true
text = "And she lived happily in the forest"

[node name="RichTextLabel2" type="RichTextLabel" parent="."]
z_index = 1
layout_mode = 0
offset_left = 5.0
offset_right = 1282.0
offset_bottom = 725.0
theme_override_fonts/normal_font = ExtResource("4_amq7h")
theme_override_font_sizes/normal_font_size = 30
bbcode_enabled = true
horizontal_alignment = 1
vertical_alignment = 1
